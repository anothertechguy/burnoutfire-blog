---
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '../../utils/date';

interface Props {
  post: CollectionEntry<'posts'>;
}

const { post } = Astro.props;
const postUrl = `/posts/${post.slug}`;
---

<article class="border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow">
  <div class="flex items-center text-sm text-gray-500 mb-2">
    <time datetime={post.data.publishDate.toISOString()}>
      {formatDate(post.data.publishDate)}
    </time>
    {post.data.readTime && (
      <>
        <span class="mx-2">•</span>
        <span>{post.data.readTime} min read</span>
      </>
    )}
  </div>
  <h2 class="text-2xl font-bold text-gray-900 mb-3">
    <a href={postUrl} class="hover:text-blue-600 transition-colors">
      {post.data.title}
    </a>
  </h2>
  <p class="text-gray-600 mb-4 line-clamp-3">
    {post.data.description}
  </p>
  <div class="flex items-center justify-between">
    <div class="flex flex-wrap gap-2">
      {post.data.tags.slice(0, 3).map(tag => (
        <span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded">
          {tag}
        </span>
      ))}
    </div>
    <a 
      href={postUrl}
      class="text-blue-600 hover:text-blue-800 font-medium text-sm"
    >
      Read more →
    </a>
  </div>
</article>
